WB32FQ95xx Reference Manual

4.
4.1.

Cyclic Redundancy Check (CRC)
CRC introduction
A cyclic redundancy check (CRC) is an error-detecting code commonly used in digital
networks and storage devices to detect accidental changes to raw data.
This CRC calculation unit can be used to calculate 8 bit, 16 bit or 32 bit CRC code with
configurable polynomial.

4.2.

CRC main features
⚫

Supports three common polynomials CRC8、CRCCCITT、CRC16 and CRC32.
CRC-8: x8 + x2 + x + 1
CRC-CCITT: x16 + x12 + x5 + 1
CRC-16: x16 + x15 + x2 + 1
CRC-32: x32 + x26 + x23 + x22 + x16 + x12 + x11 + x10 + x8 + x7 + x5 + x4 + x2 +x +1

⚫

Bit order reverse and 1’s complement programmable setting for input data and CRC
sum.

⚫

Programmable seed number setting.

⚫

Supports CPU write or DMA back-to-back transfer.

⚫

Accept any size of data width per write: 8, 16 or 32-bit.
◼

8-bit write: 1-cycle operation

◼

16-bit write: 2-cycle operation (8-bit x 2-cycle)

◼

32-bit write: 4-cycle operation (8-bit x 4-cycle)

4.3.

CRC register description

4.3.1.

CRC mode register (CRC_MODE)
Address offset：0x00

Doc ID 2905025

Rev01

46

WB32FQ95xx Reference Manual

Reset value: 0x0000 0000
Bits

Fields

R/W

Description

31:8

­

-

Reserved

7

SEED_SET

RW

Write 1 to load the seed into the CRC.
CRC Seed setting

6

SEED_OP

RW

0: Use polynomial default value
1: Use the CRC_SEED register as the CRC operation seed
CRC sum complement:

5

CMPL_SUM

RW

1= 1’s complement for CRC_SUM
0=No 1’s complement for CRC_SUM
CRC sum bit order:

4

BIT_RVS_SUM

RW

1= Bit order reverse for CRC_SUM
0= No bit order reverse for CRC_SUM
Data complement:

3

CMPL_WR

RW

1= 1’s complement for CRC_WR_DATA
0= No 1’s complement for CRC_WR_DATA
Data bit order:

2

BIT_RVS_WR

RW

1= Bit order reverse for CRC_WR_DATA (per byte)
0= No bit order reverse for CRC_WR_DATA (per byte)
CRC polynomials:
00= CRC-8 polynomial (default seed value is 0x00)

1:0

CRC_POLY

RW

01= CRC-CCITT polynomial(default seed value is 0xFFFF)
10= CRC-16 polynomial (default seed value is 0x0000)
11= CRC-32 polynomial (default seed value is 0xFFFFFFFF)

4.3.2.

CRC seed register (CRC_SEED)
Address offset: 0x04
Reset value: 0x0000 FFFF

Bits

Fields

R/W

Description

31:0

CRC_SEED

RW

CRC seed value

4.3.3.

CRC checksum register (CRC_SUM)
Address offset: 0x08
Reset value: 0x0000 FFFF
This register is a Read-only register containing the most recent checksum. The read request
to this register is automatically delayed by a finite number of wait states until the results are
valid and the checksum computation is complete.

Doc ID 2905025

Rev01

47

WB32FQ95xx Reference Manual

Bits

Fields

R/W

Description

31:0

CRC_SUM

R

CRC checksum

4.3.4.

CRC data register (CRC_WDATA)
Address offset: 0x08
Reset value: 0xXXXX XXXX
This register is a Write-only register containing the data block for which the CRC sum will be
calculated.

Bits

Fields

R/W

Description
Data written to this register will be taken to perform CRC calculation

31:0

CRC_WDATA

W

with selected bit order and 1’s complement pre-process. Any write size
8, 16 or 32-bit are allowed and accept back-to-back transactions.

Doc ID 2905025

Rev01

48

